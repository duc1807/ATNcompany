<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Management</title>
    <link rel="stylesheet" href= "/style/allProducts.css">
</head>
<body>
    <div id="nav-bar">  
        <a href="/homepage"><img id ="home" src="/images/homepage2.png"></a>  
        <ul>
        <li style="margin-left: 100px;"><a href="/homepage/employee">Accounts Management</a></li>
        <li id="trans"><a href="/homepage/product">Products Management</a></li>
        <li id="logout" style="background-color: rgb(105, 50, 50);" ><a href="/">Logout</a></li>
        </ul>
    </div>
    
<div class = "container">
    <div id="info">
        <h1 id="head">Products Management</h1>
            <div id="info-line"></div>
        <p style="font-size: 18px;color: white; text-align:center">Total products: {{count}}</p>
    </div>

{{# each products}}

    <div id="content">

        <div id="content-left">
            <p class="label"><b>Product Name:</b> {{Name}}</p>
            <p class="label"><b>Price:</b> {{Price}}</p>
            <p class="label"><b>Origin:</b> {{Origin}}</p>
            <p class="label"><b>Description:</b> {{Description}}</p>
        </div>


        <div id="content-right">
            <p style="margin-left: 10px;" class="label"><b>Image:</b></p>
            <img src='http://localhost:3000/homepage/photo/{{_id}}' alt="" width="250px" height="200px">
        </div>

        <div id="endline"></div>

        <a href="/homepage/product/edit?id={{_id}}"><img title="Edit" id="edit" src="/images/edit.png"></a>
        <img title="Delete" onclick="confirmdel()" id="delete" src="/images/delete.png">
{{!
        <div class="pop-delete" id="">
            <h1 style="font-size: 20px; margin-left:30px" class="forgot-form">Do you want to delete this account?</h1>
            <p>Account: </p>
            <button style="margin-top: 30px; margin-left:50px" onclick="closedel();" id="ignore"><img class="ignoreicon" src="/images/uncheck.png"></button>
            <a href="/homepage/employee/delete?id="><button style="margin-top: 30px; margin-left:160px" id="check"><img class="checkicon" src="/images/check.png"></button></a>
        </div>
--}}
    </div>
{{/each}}


</div>

<div id="option">
    <img title="Add new product" id ="add" onclick="add()" src="/images/add.png">
</div>


<div id="popup-background">
<div id= "popup-container">

  <form id="form" action="product" enctype="multipart/form-data" method="POST">
    <h1 class="forgot-form" style="margin-top: 35px;">Add New Product</h1>

        <div id="pop-left">
 
        <label class="label"><b>Product Name </b></label><BR><BR>
        <input style="margin-top: -8px;" class="forgot-input" type="text" placeholder="i.e Superman Toy" name="name" required><BR><BR>

        <label style="position: absolute; margin-top: -15px" class="label"><b>Price </b></label><BR><BR>
        <input class="forgot-input" type="text" placeholder="0xx" name="price" required><BR><BR>

        <label style="position: absolute; margin-top: -15px" class="label"><b>Origin </b></label><BR><BR>
        <input class="forgot-input" type="text" placeholder="0xx" name="origin" required><BR>

        </div>

        <div id="horizon-line"></div>

        <div id="pop-right">
            <label class="label"for="email"><b>Product Image </b></label><BR><BR>
            <input style="margin-top: -8px;" type="file" name="picture" accept="image/*" required><BR><BR><BR>

            <label style="position: absolute; margin-top: -15px" class="label"><b>Product Description </b></label><BR>
            <textarea id="description" placeholder="Add description here..." name="description" required></textarea><BR>
            <button onclick="closeform(); reset()" id="ignore"><img class="ignoreicon" src="/images/uncheck.png"></button>
            <button type="submit" id="check"><img class="checkicon" src="/images/check.png"></button>
        
        </div>
  </form>
</div>
</div>


<script>
function add() {
    document.getElementById('popup-background').style.display = "block";
};

function closeform() {
    document.getElementById('popup-background').style.display = "none";
};

function reset()
{
    document.getElementById("form").reset();
}
</script>


{{# each accounts}}
<script>
function confirmdel()
{
    document.getElementById(</script> {{_id}} <script>).style.display= "block";
}
function closedel()
{
    document.getElementById(</script> {{_id}} <script>).style.display= "none";
}
</script>
{{/each}}


</script>

</body>
</html>